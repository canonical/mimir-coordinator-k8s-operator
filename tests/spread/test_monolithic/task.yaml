summary: Test self-monitoring relations (monolithic)
systems:
  - ubuntu-24.04

environment:
  CHARM_PATH: "$(HOST: echo $CHARM_PATH)"
  TEST_FILENAME: test_charm_monolithic

execute: |
  pushd "$SPREAD_PATH"
  chown $(id -u):$(id -g) *.charm

  uvx --from=rust-just just integration -k "$TEST_FILENAME"
